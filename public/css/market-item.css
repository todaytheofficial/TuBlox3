*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',sans-serif;background:#000;color:#fff;overflow-x:hidden}
a{text-decoration:none;color:inherit}
#app{display:flex;min-height:100vh}

/* SIDEBAR */
#sidebar{width:240px;min-height:100vh;background:#0a0a0a;border-right:1px solid #151515;display:flex;flex-direction:column;position:fixed;left:0;top:0;bottom:0;z-index:50}
.sidebar-top{padding:20px;border-bottom:1px solid #151515}
.logo-link{display:flex;align-items:center;gap:12px}
.sidebar-logo-img{width:44px;height:44px;border-radius:9px;object-fit:contain}
.logo{font-weight:900;font-size:20px;letter-spacing:3px}
.sidebar-nav{flex:1;padding:12px 0}
.nav-item{display:flex;align-items:center;gap:10px;padding:12px 20px;font-size:14px;font-weight:600;color:#555;transition:all .15s}
.nav-item:hover{color:#aaa;background:rgba(255,255,255,.02)}
.nav-item.active{color:#fff;background:rgba(255,255,255,.04);border-right:2px solid #fff}
.nav-svg{flex-shrink:0}
.sidebar-currency{padding:12px 16px;border-top:1px solid #151515;display:flex;flex-direction:column;gap:6px}
.currency-item{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#111;border:1px solid #1a1a1a;border-radius:8px}
.currency-icon{width:20px;height:20px;object-fit:contain}
.currency-amount{font-size:15px;font-weight:900}
.sidebar-bottom{padding:16px;border-top:1px solid #151515}
.user-card{display:flex;align-items:center;gap:10px;padding:10px;background:#111;border-radius:10px;margin-bottom:10px}
.user-card canvas{border-radius:6px}
.user-info{display:flex;flex-direction:column}
.user-name{font-size:13px;font-weight:700}
.user-status{font-size:11px;color:#4ade80}
.btn-logout{width:100%;padding:8px;background:transparent;border:1px solid #222;border-radius:6px;color:#555;font-family:'Inter',sans-serif;font-size:12px;font-weight:600;cursor:pointer;transition:all .15s}
.btn-logout:hover{border-color:#ef4444;color:#ef4444}

/* MAIN */
#main{flex:1;margin-left:240px;padding:32px 40px;max-width:1200px}

/* LOADING / ERROR */
.page-loading{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:120px 20px;color:#555;font-size:14px;font-weight:600}
.spinner{width:32px;height:32px;border:3px solid #1a1a1a;border-top:3px solid #fff;border-radius:50%;animation:spin .8s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

.page-error{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:120px 20px;text-align:center}
.page-error h2{font-size:24px;color:#444}
.page-error p{font-size:14px;color:#333}

/* BREADCRUMB */
.breadcrumb{display:flex;align-items:center;gap:8px;margin-bottom:28px;font-size:13px;color:#444;font-weight:600}
.breadcrumb a{color:#555;transition:color .15s}
.breadcrumb a:hover{color:#fff}
.breadcrumb-current{color:#888}

/* HERO */
.item-hero{display:flex;gap:40px;margin-bottom:48px}

.item-hero-left{flex:0 0 380px;display:flex;flex-direction:column;gap:16px}

.item-preview-big{position:relative;background:#080808;border:1px solid #1a1a1a;border-radius:20px;overflow:hidden;display:flex;align-items:center;justify-content:center;aspect-ratio:6/5}
.item-preview-big canvas{display:block;width:100%;height:100%}
.preview-badges{position:absolute;top:16px;left:16px;display:flex;gap:8px}

.item-rarity-badge{display:inline-block;font-size:10px;font-weight:900;text-transform:uppercase;letter-spacing:2px;padding:4px 12px;border-radius:6px}
.rarity-common{background:rgba(150,150,150,.2);color:#999}
.rarity-uncommon{background:rgba(74,222,128,.2);color:#4ade80}
.rarity-rare{background:rgba(59,130,246,.2);color:#3b82f6}
.rarity-epic{background:rgba(168,85,247,.2);color:#a855f7}
.rarity-legendary{background:rgba(255,215,0,.2);color:#FFD700}
.item-limited-badge{font-size:10px;font-weight:900;text-transform:uppercase;letter-spacing:2px;padding:4px 12px;border-radius:6px;background:rgba(255,215,0,.25);color:#FFD700}

/* Color Selector */
.color-selector{background:#0a0a0a;border:1px solid #1a1a1a;border-radius:14px;padding:16px 20px}
.color-selector label{display:block;font-size:11px;color:#555;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;margin-bottom:12px}
.color-options{display:flex;gap:10px;flex-wrap:wrap}
.color-option{width:36px;height:36px;border-radius:10px;border:2px solid #2a2a2a;cursor:pointer;transition:all .2s;position:relative}
.color-option:hover{transform:scale(1.15);border-color:#555}
.color-option.selected{border-color:#fff;box-shadow:0 0 16px rgba(255,255,255,.25)}
.color-option.selected::after{content:'';position:absolute;inset:-4px;border:2px solid rgba(255,255,255,.15);border-radius:13px}

/* Right Panel */
.item-hero-right{flex:1;display:flex;flex-direction:column;gap:20px}

.item-title-section h1{font-size:32px;font-weight:900;letter-spacing:-0.5px;margin-bottom:8px}
.item-description{font-size:15px;color:#666;line-height:1.6}

/* Stats Grid */
.stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}
.stat-card{background:#0a0a0a;border:1px solid #1a1a1a;border-radius:12px;padding:14px 16px}
.stat-label{font-size:10px;color:#444;font-weight:700;text-transform:uppercase;letter-spacing:1.5px;margin-bottom:4px}
.stat-value{font-size:14px;font-weight:800;color:#ccc}

/* Tags */
.item-tags{display:flex;gap:6px;flex-wrap:wrap}
.item-tag{padding:4px 10px;background:#111;border:1px solid #1a1a1a;border-radius:6px;font-size:11px;color:#555;font-weight:600}

/* Price Section */
.price-section{background:#0a0a0a;border:1px solid #1a1a1a;border-radius:16px;padding:20px 24px;display:flex;align-items:center;justify-content:space-between}
.price-main{display:flex;align-items:center;gap:12px}
.price-icon-big{width:36px;height:36px}
.price-amount{font-size:36px;font-weight:900;letter-spacing:-1px}
.price-balance{font-size:13px;color:#555;font-weight:600;display:flex;align-items:center;gap:4px}
.price-icon-sm{width:16px;height:16px;vertical-align:middle}

/* Action Buttons */
.action-buttons{display:flex;gap:10px}
.btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:14px 28px;border-radius:12px;font-family:'Inter',sans-serif;font-weight:700;font-size:14px;cursor:pointer;transition:all .2s;border:none;text-align:center}
.btn-buy-big{flex:1;background:#fff;color:#000;font-size:16px;padding:16px 28px}
.btn-buy-big:hover{background:#e5e5e5;transform:translateY(-1px);box-shadow:0 6px 20px rgba(255,255,255,.1)}
.btn-owned-big{flex:1;background:#111;color:#4ade80;cursor:default;font-size:16px;padding:16px 28px;border:1px solid #1a1a1a}
.btn-equip-big{flex:1;background:#3b82f6;color:#fff;font-size:15px;padding:14px 24px}
.btn-equip-big:hover{background:#2563eb}
.btn-unequip-big{flex:1;background:transparent;color:#888;border:1px solid #333;font-size:15px;padding:14px 24px}
.btn-unequip-big:hover{border-color:#ef4444;color:#ef4444}
.btn-white{background:#fff;color:#000;padding:12px 24px}
.btn-white:hover{background:#ddd}

.action-status{min-height:20px;font-size:13px;font-weight:600}
.action-status.success{color:#4ade80}
.action-status.error{color:#ef4444}

/* SIMILAR */
.similar-section{margin-top:16px}
.similar-section h3{font-size:18px;font-weight:800;margin-bottom:16px;color:#888}
.similar-section h3 span{color:#fff}
.similar-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:14px}

.similar-card{background:#0a0a0a;border:1px solid #1a1a1a;border-radius:12px;overflow:hidden;cursor:pointer;transition:all .2s;position:relative}
.similar-card:hover{border-color:#333;transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.4)}
.similar-card-thumb{width:100%;height:130px;background:#080808;display:flex;align-items:center;justify-content:center;overflow:hidden}
.similar-card-thumb canvas{display:block}
.similar-card-info{padding:10px 12px}
.similar-card-name{font-size:12px;font-weight:700;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;margin-bottom:4px}
.similar-card-bottom{display:flex;align-items:center;justify-content:space-between}
.similar-card-price{display:flex;align-items:center;gap:4px;font-size:13px;font-weight:900}
.similar-card-price img{width:14px;height:14px}
.similar-card-rarity{font-size:8px;font-weight:800;text-transform:uppercase;letter-spacing:1px;padding:2px 5px;border-radius:3px}

/* ======================== PURCHASE MODAL ======================== */
.modal-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.9);backdrop-filter:blur(12px);display:flex;align-items:center;justify-content:center;z-index:200}
.modal-panel{background:#0a0a0a;border:1px solid #1a1a1a;border-radius:24px;max-width:480px;width:92vw;max-height:90vh;overflow-y:auto;animation:modalIn .3s ease;position:relative}
@keyframes modalIn{from{opacity:0;transform:scale(.9) translateY(20px)}to{opacity:1;transform:scale(1) translateY(0)}}
.modal-close{position:absolute;top:18px;right:18px;background:#111;border:1px solid #222;border-radius:8px;color:#555;cursor:pointer;padding:6px;z-index:1;transition:all .15s}
.modal-close:hover{color:#fff;border-color:#444}

.purchase-step{padding:32px}

/* Header */
.purchase-header{text-align:center;margin-bottom:24px}
.purchase-icon{width:56px;height:56px;background:#111;border:1px solid #222;border-radius:16px;display:flex;align-items:center;justify-content:center;margin:0 auto 16px}
.purchase-header h2{font-size:22px;font-weight:900;margin-bottom:4px}
.purchase-subtitle{font-size:13px;color:#555}

/* Item Summary */
.purchase-item-summary{display:flex;align-items:center;gap:14px;background:#111;border:1px solid #1a1a1a;border-radius:14px;padding:14px 16px;margin-bottom:20px}
.purchase-item-summary canvas{border-radius:10px;flex-shrink:0;background:#080808}
.purchase-item-info{flex:1;display:flex;flex-direction:column;gap:2px}
.purchase-item-name{font-size:14px;font-weight:800}
.purchase-item-rarity{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:#666}
.purchase-item-price{display:flex;align-items:center;gap:6px;font-size:20px;font-weight:900}

/* Transaction Preview */
.transaction-preview{background:#080808;border:1px solid #151515;border-radius:12px;padding:16px;margin-bottom:20px}
.transaction-row{display:flex;justify-content:space-between;align-items:center;padding:6px 0}
.transaction-label{font-size:13px;color:#555;font-weight:600}
.transaction-value{font-size:14px;font-weight:800;color:#ccc}
.tx-negative{color:#ef4444}
.transaction-divider{height:1px;background:#1a1a1a;margin:8px 0}
.transaction-after .transaction-label{color:#888}
.transaction-after .transaction-value{color:#4ade80;font-size:16px}
.transaction-cost .transaction-value{color:#ef4444}

/* Captcha */
.captcha-area{display:flex;justify-content:center;margin-bottom:20px}

.purchase-error{text-align:center;font-size:13px;font-weight:600;color:#ef4444;min-height:20px;margin-bottom:12px}

.btn-confirm-purchase{width:100%;padding:16px;background:#fff;color:#000;border:none;border-radius:12px;font-family:'Inter',sans-serif;font-size:15px;font-weight:800;cursor:pointer;transition:all .2s;display:flex;align-items:center;justify-content:center;gap:8px}
.btn-confirm-purchase:hover{background:#e5e5e5}
.btn-confirm-purchase:disabled{opacity:.4;cursor:not-allowed}

.purchase-note{text-align:center;font-size:11px;color:#333;margin-top:12px}

/* Processing */
.processing-content{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:40px 20px;text-align:center}
.spinner-big{width:48px;height:48px;border:4px solid #1a1a1a;border-top:4px solid #fff;border-radius:50%;animation:spin 1s linear infinite}
.processing-content h3{font-size:18px;font-weight:800}
.processing-content p{font-size:13px;color:#555}

/* Success */
.success-content{display:flex;flex-direction:column;align-items:center;text-align:center;gap:16px}
.success-icon{animation:successPop .5s ease}
@keyframes successPop{0%{transform:scale(0)}50%{transform:scale(1.2)}100%{transform:scale(1)}}
.success-content h2{font-size:22px;font-weight:900;color:#4ade80}
.success-item-name{font-size:14px;color:#888;font-weight:600}

.success-receipt{width:100%;background:#080808;border:1px solid #151515;border-radius:12px;padding:16px;text-align:left}
.receipt-row{display:flex;justify-content:space-between;align-items:center;padding:6px 0;font-size:13px;color:#666}
.receipt-row span:last-child{color:#ccc;font-weight:700}
.receipt-cost{color:#ef4444!important}
.receipt-divider{height:1px;background:#1a1a1a;margin:6px 0}
.receipt-balance span:first-child{color:#888;font-weight:700}
.receipt-balance span:last-child{color:#4ade80!important;font-size:16px;font-weight:900}

.success-actions{display:flex;gap:10px;width:100%}
.btn-equip-now{flex:1;padding:14px;background:#3b82f6;color:#fff;border:none;border-radius:10px;font-family:'Inter',sans-serif;font-size:14px;font-weight:700;cursor:pointer;transition:all .15s}
.btn-equip-now:hover{background:#2563eb}
.btn-close-success{flex:1;padding:14px;background:#111;color:#888;border:1px solid #222;border-radius:10px;font-family:'Inter',sans-serif;font-size:14px;font-weight:700;cursor:pointer;transition:all .15s}
.btn-close-success:hover{border-color:#444;color:#fff}

/* Error Step */
.error-content{display:flex;flex-direction:column;align-items:center;text-align:center;gap:16px}
.error-content h2{color:#ef4444;font-size:22px}
.error-content p{color:#666;font-size:14px}
.btn-try-again{padding:14px 32px;background:#ef4444;color:#fff;border:none;border-radius:10px;font-family:'Inter',sans-serif;font-size:14px;font-weight:700;cursor:pointer}
.btn-try-again:hover{background:#dc2626}

/* ======================== RESPONSIVE ======================== */
@media(max-width:900px){
  .item-hero{flex-direction:column;gap:24px}
  .item-hero-left{flex:none;max-width:100%}
  .stats-grid{grid-template-columns:repeat(2,1fr)}
}
@media(max-width:768px){
  #sidebar{width:64px}
  .sidebar-nav .nav-item span:not(.nav-svg):last-child{display:none}
  .sidebar-top .logo{display:none}
  .sidebar-logo-img{width:32px;height:32px}
  .user-card .user-info{display:none}
  .currency-amount{font-size:12px}
  .currency-icon{width:16px;height:16px}
  #main{margin-left:64px;padding:16px}
  .item-hero-left{flex:none}
  .price-amount{font-size:28px}
  .item-title-section h1{font-size:24px}
  .stats-grid{grid-template-columns:repeat(2,1fr)}
  .similar-grid{grid-template-columns:repeat(auto-fill,minmax(140px,1fr))}
}

/* Scrollbar */
::-webkit-scrollbar{width:4px}
::-webkit-scrollbar-track{background:#000}
::-webkit-scrollbar-thumb{background:#222;border-radius:2px}